@{
    ViewBag.Title = "Home Page";
}

<div ng-controller="SearchUrlCtrl">
    <h1 class="text-center">Fetch & Store</h1>
    <form> 
        <div class="container ">  
            <div class="row" > 
                <div class="form-group col-sm-2 col-sm-offset-2">           
                    <select id="methodSelect" ng-model="HttpMethod" class="form-control">               
                        <option value="GET">GET</option>
                        <option value="HEAD">HEAD</option>
                    </select>             
                    <label for="methodSelect">Http Method</label>
                </div>
                <div class="col-sm-4">
                    <input ng-model="url" type="text" class="form-control" id="url-input" placeholder="Url to Test:">
                </div>                      
                <div class="btn-group-vertical col-sm-2 col-sm-offset-1">
                    <button ng-click="HttpFetcher()" type="submit" class="btn btn-primary btn-sm">Fetch</button>                    
                </div>
            </div>            
        </div>
        <h2 class="text-center">Responses Captured</h2>
        <br />
        <div id ="resposeContainer" class="container">
            <div class="row">
                <table class="table">
                    <tr>
                        <th>Status Code</th>
                        <th>URL</th>
                        <th>Method</th>
                        <th>Response Time ms</th>
                        <th></th>
                    </tr>
                    <tr>
                        <td>{{status}}</td>
                        <td>{{url}}</td>
                        <td>{{HttpMethod}}</td>
                        <td>{{ResponseTime}}</td>
                        <td><button type="submit" ng-click="ResponseSave()"class="btn btn-primary btn-sm">Store</button></td>
                    </tr>
                </table>
             </div>
        </div>
        <h2 class="text-center">Stored Responses</h2 class>
        <br />
        <div id="returnContainer" class="container">
            <div class="row">
                <table class="table">
                    <tr>
                        <th>Status Code</th>
                        <th>URL</th>
                        <th>Method</th>
                        <th>Response Time ms</th>
                        <th></th>
                    </tr>
                    <tr ng-repeat="dbResponse in dbResponses">
                        <td>{{dbResponse.StatusCode}}</td>
                        <td>{{dbResponse.URL}}</td>
                        <td>{{dbResponse.Method}}</td>
                        <td>{{dbResponse.RequestTime}}</td>
                        <td>{{}}</td>
                        <td><button type="submit" ng-click="ResponseRemove(dbResponse.ResponseId)"class="btn btn-danger btn-sm">Delete</button></td>
                    </tr>
                </table>
            </div>          
        </div>

    </form>
</div>


